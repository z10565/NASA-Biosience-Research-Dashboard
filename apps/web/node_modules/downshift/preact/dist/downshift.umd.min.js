!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact/compat"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","preact/compat","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Downshift={},e.React,e.PropTypes)}(this,function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(null,arguments)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var u,s={};
/**
   * @license React
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */!function(){if(u)return s;u=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function I(e){if("object"==typeof e&&null!==e){var u=e.$$typeof;switch(u){case t:switch(e=e.type){case i:case r:case o:case p:case f:return e;default:switch(e=e&&e.$$typeof){case c:case a:case d:case g:case h:case l:return e;default:return u}}case n:return u}}}e=Symbol.for("react.module.reference"),s.ContextConsumer=a,s.ContextProvider=l,s.Element=t,s.ForwardRef=d,s.Fragment=i,s.Lazy=g,s.Memo=h,s.Portal=n,s.Profiler=r,s.StrictMode=o,s.Suspense=p,s.SuspenseList=f,s.isAsyncMode=function(){return!1},s.isConcurrentMode=function(){return!1},s.isContextConsumer=function(e){return I(e)===a},s.isContextProvider=function(e){return I(e)===l},s.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},s.isForwardRef=function(e){return I(e)===d},s.isFragment=function(e){return I(e)===i},s.isLazy=function(e){return I(e)===g},s.isMemo=function(e){return I(e)===h},s.isPortal=function(e){return I(e)===n},s.isProfiler=function(e){return I(e)===r},s.isStrictMode=function(e){return I(e)===o},s.isSuspense=function(e){return I(e)===p},s.isSuspenseList=function(e){return I(e)===f},s.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===r||t===o||t===p||t===f||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===h||t.$$typeof===l||t.$$typeof===a||t.$$typeof===d||t.$$typeof===e||void 0!==t.getModuleId)},s.typeOf=I}();const l=e=>"object"==typeof e&&null!=e&&1===e.nodeType,a=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,c=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return a(n.overflowY,t)||a(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},d=(e,t,n,i,o,r,u,s)=>r<e&&u>t||r>e&&u<t?0:r<=e&&s<=n||u>=t&&s>=n?r-e-i:u>t&&s<n||r<e&&s>n?u-t+o:0,p=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};var f=0;function h(e){return"function"==typeof e?e:g}function g(){}function m(e,t){if(e){var n=((e,t)=>{var n,i,o,r;if("undefined"==typeof document)return[];const{inline:u,boundary:s,skipOverflowHiddenElements:a}=t,f="function"==typeof s?s:e=>e!==s;if(!l(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,g=[];let m=e;for(;l(m)&&f(m);){if(m=p(m),m===h){g.push(m);break}null!=m&&m===document.body&&c(m)&&!c(document.documentElement)||null!=m&&c(m,a)&&g.push(m)}const I=null!=(i=null==(n=window.visualViewport)?void 0:n.width)?i:innerWidth,v=null!=(r=null==(o=window.visualViewport)?void 0:o.height)?r:innerHeight,{scrollX:y,scrollY:b}=window,{height:x,width:w,top:S,right:C,bottom:D,left:k}=e.getBoundingClientRect(),{top:O,right:M,left:E}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let K=S-O,P="center"===u?k+w/2-E+M:"end"===u?C+M:k-E;const T=[];for(let e=0;e<g.length;e++){const t=g[e],{height:n,width:i,top:o,right:r,bottom:s,left:l}=t.getBoundingClientRect();if(S>=0&&k>=0&&D<=v&&C<=I&&(t===h&&!c(t)||S>=o&&D<=s&&k>=l&&C<=r))return T;const a=getComputedStyle(t),p=parseInt(a.borderLeftWidth,10),f=parseInt(a.borderTopWidth,10),m=parseInt(a.borderRightWidth,10),O=parseInt(a.borderBottomWidth,10);let M=0,E=0;const H="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-m:0,R="offsetHeight"in t?t.offsetHeight-t.clientHeight-f-O:0,V="offsetWidth"in t?0===t.offsetWidth?0:i/t.offsetWidth:0,B="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(h===t)M=d(b,b+v,v,f,O,b+K,b+K+x,x),E="start"===u?P:"center"===u?P-I/2:"end"===u?P-I:d(y,y+I,I,p,m,y+P,y+P+w,w),M=Math.max(0,M+b),E=Math.max(0,E+y);else{M=d(o,s,n,f,O+R,K,K+x,x),E="start"===u?P-l-p:"center"===u?P-(l+i/2)+H/2:"end"===u?P-r+m+H:d(l,r,i,p,m+H,P,P+w,w);const{scrollLeft:e,scrollTop:a}=t;M=0===B?0:Math.max(0,Math.min(a+M/B,t.scrollHeight-n/B+R)),E=0===V?0:Math.max(0,Math.min(e+E/V,t.scrollWidth-i/V+H)),K+=a-M,P+=e-E}T.push({el:t,top:M,left:E})}return T})(e,{boundary:t});n.forEach(function(e){var t=e.el,n=e.top,i=e.left;t.scrollTop=n,t.scrollLeft=i})}}function I(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function v(e,t){var n;function i(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];i(),n=setTimeout(function(){n=null,e.apply(void 0,r)},t)}return o.cancel=i,o}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.some(function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault})}}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):t&&(t.current=e)})}}function x(){return String(f++)}function w(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function S(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var C=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function D(e){void 0===e&&(e={});var t={};return C.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function k(e,t){return e&&t?Object.keys(e).reduce(function(n,i){return n[i]=O(t,i)?t[i]:e[i],n},{}):e}function O(e,t){return void 0!==e[t]}function M(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function E(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(0===r)return-1;var u=r-1;("number"!=typeof e||e<0||e>u)&&(e=t>0?-1:u+1);var s=e+t;s<0?s=o?u:0:s>u&&(s=o?0:u);var l=K(s,t<0,n,i,o);return-1===l?e>=r?-1:e:l}function K(e,t,n,i,o){void 0===o&&(o=!1);var r=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var s=e;s<r;s++)if(!i(n[s],s))return s;return o?K(t?r-1:0,t,n,i):-1}function P(e,t,n,i){return void 0===i&&(i=!0),n&&t.some(function(t){return t&&(I(t,e,n)||i&&I(t,n.document.activeElement,n))})}var T=v(function(e){H(e).textContent=""},500);function H(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function R(e,t){e&&t&&(H(t).textContent=e,T(t))}var V=Object.freeze({__proto__:null,blurButton:14,blurInput:10,changeInput:11,clickButton:13,clickItem:9,controlledPropUpdatedSelectedItem:15,itemMouseEnter:2,keyDownArrowDown:4,keyDownArrowUp:3,keyDownEnd:8,keyDownEnter:6,keyDownEscape:5,keyDownHome:7,keyDownSpaceButton:12,mouseUp:1,touchEnd:16,unknown:0}),B=["refKey","ref"],A=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],L=["onKeyDown","onBlur","onChange","onInput","onChangeText"],F=["refKey","ref"],_=["onMouseMove","onMouseDown","onClick","onPress","index","item"],N=function(){var e=function(e){function n(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+x(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var i=setTimeout(function(){n.timeoutIds=n.timeoutIds.filter(function(e){return e!==i}),e()},t);n.timeoutIds.push(i)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.isItemDisabled=function(e,t){var i=n.getItemNodeFromIndex(t);return i&&i.hasAttribute("disabled")},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=D(t),n.internalSetState(o({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,i){t=D(t),n.internalSetState(o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),i)},n.selectItemAtIndex=function(e,t,i){var o=n.items[e];null!=o&&n.selectItem(o,t,i)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var i,r,u={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,o({},n.getStateAndHelpers(),e)),n.setState(function(t){var l;t=n.getState(t);var a=s?e(t):e;a=n.props.stateReducer(t,a),i=a.hasOwnProperty("selectedItem");var c={};return i&&a.selectedItem!==t.selectedItem&&(r=a.selectedItem),(l=a).type||(l.type=0),Object.keys(a).forEach(function(e){t[e]!==a[e]&&(u[e]=a[e]),"type"!==e&&(a[e],O(n.props,e)||(c[e]=a[e]))}),s&&a.hasOwnProperty("inputValue")&&n.props.onInputValueChange(a.inputValue,o({},n.getStateAndHelpers(),a)),c},function(){h(t)(),Object.keys(u).length>1&&n.props.onStateChange(u,n.getStateAndHelpers()),i&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==r&&n.props.onChange(r,n.getStateAndHelpers()),n.props.onUserAction(u,n.getStateAndHelpers())})},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var r,u=void 0===e?{}:e,s=u.refKey,l=void 0===s?"ref":s,a=u.ref,c=i(u,B),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;n.getRootProps.called=!0,n.getRootProps.refKey=l,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return o(((r={})[l]=b(a,n.rootRef),r.role="combobox",r["aria-expanded"]=f,r["aria-haspopup"]="listbox",r["aria-owns"]=f?n.menuId:void 0,r["aria-labelledby"]=n.labelId,r),c)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},function(){var e=t.getItemCount();if(e>0){var n=E(t.getState().highlightedIndex,1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:4})}})},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},function(){var e=t.getItemCount();if(e>0){var n=E(t.getState().highlightedIndex,-1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:3})}})},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,i=t.highlightedIndex;if(n&&null!=i){e.preventDefault();var o=this.items[i],r=this.getItemNodeFromIndex(i);if(null==o||r&&r.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset(o({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=o({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=o({},n.keyDownHandlers,{Home:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=K(0,!1,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:7})}}},End:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=K(n-1,!0,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:8})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,r=t.onClick;t.onPress;var u=t.onKeyDown,s=t.onKeyUp,l=t.onBlur,a=i(t,A),c=n.getState().isOpen,d={onClick:y(r,n.buttonHandleClick),onKeyDown:y(u,n.buttonHandleKeyDown),onKeyUp:y(s,n.buttonHandleKeyUp),onBlur:y(l,n.buttonHandleBlur)};return o({type:"button",role:"button","aria-label":c?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},a.disabled?{}:d,a)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=M(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(n,e)},n.buttonHandleClick=function(e){if(e.preventDefault(),n.props.environment){var t=n.props.environment.document,i=t.body,o=t.activeElement;i&&i===o&&e.target.focus()}n.internalSetTimeout(function(){return n.toggleMenu({type:13})})},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout(function(){if(!n.isMouseDown&&n.props.environment){var e=n.props.environment.document.activeElement;null!=e&&e.id===n.inputId||e===t||n.reset({type:14})}})},n.getLabelProps=function(e){return o({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,r=t.onKeyDown,u=t.onBlur,s=t.onChange,l=t.onInput;t.onChangeText;var a=i(t,L),c={};var d,p=n.getState(),f=p.inputValue,h=p.isOpen,g=p.highlightedIndex;a.disabled||((d={}).onInput=y(s,l,n.inputHandleChange),d.onKeyDown=y(r,n.inputHandleKeyDown),d.onBlur=y(u,n.inputHandleBlur),c=d);return o({"aria-autocomplete":"list","aria-activedescendant":h&&"number"==typeof g&&g>=0?n.getItemId(g):void 0,"aria-controls":h?n.menuId:void 0,"aria-labelledby":a&&a["aria-label"]?void 0:n.labelId,autoComplete:"off",value:f,id:n.inputId},c,a)},n.inputHandleKeyDown=function(e){var t=M(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(n,e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout(function(){var e;if(!n.isMouseDown&&n.props.environment){var t=n.props.environment.document.activeElement;(null==t||null==(e=t.dataset)?void 0:e.toggle)&&n._rootNode&&n._rootNode.contains(t)||n.reset({type:10})}})},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var r,u=void 0===e?{}:e,s=u.refKey,l=void 0===s?"ref":s,a=u.ref,c=i(u,F),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;return n.getMenuProps.called=!0,n.getMenuProps.refKey=l,n.getMenuProps.suppressRefError=p,o(((r={})[l]=b(a,n.menuRef),r.role="listbox",r["aria-labelledby"]=c&&c["aria-label"]?void 0:n.labelId,r.id=n.menuId,r),c)},n.getItemProps=function(e){var t,r=void 0===e?{}:e,u=r.onMouseMove,s=r.onMouseDown,l=r.onClick;r.onPress;var a=r.index,c=r.item,d=void 0===c?void 0:c,p=i(r,_);void 0===a?(n.items.push(d),a=n.items.indexOf(d)):n.items[a]=d;var f=l,h=((t={onMouseMove:y(u,function(){a!==n.getState().highlightedIndex&&(n.setHighlightedIndex(a,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout(function(){return n.avoidScrolling=!1},250))}),onMouseDown:y(s,function(e){e.preventDefault()})}).onClick=y(f,function(){n.selectItemAtIndex(a,{type:9})}),t),g=p.disabled?{onMouseDown:h.onMouseDown}:h;return o({id:n.getItemId(a),role:"option","aria-selected":n.getState().highlightedIndex===a},g,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=D(e),n.internalSetState(function(t){var i=t.selectedItem;return o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(i)},e)},t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=D(e),n.internalSetState(function(t){var i=t.isOpen;return o({isOpen:!i},i&&{highlightedIndex:n.props.defaultHighlightedIndex},e)},function(){var i=n.getState(),o=i.isOpen,r=i.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof r&&n.setHighlightedIndex(r,e),h(t)()})},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=v(function(){var e;if(null!=(e=n.props)&&null!=(e=e.environment)&&e.document){var t=n.getState(),i=n.items[t.highlightedIndex],r=n.getItemCount(),u=n.props.getA11yStatusMessage(o({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:i},t));n.previousResultCount=r,R(u,n.props.environment.document)}},200);var r=n.props,u=r.defaultHighlightedIndex,s=r.initialHighlightedIndex,l=void 0===s?u:s,a=r.defaultIsOpen,c=r.initialIsOpen,d=void 0===c?a:c,p=r.initialInputValue,f=void 0===p?"":p,g=r.initialSelectedItem,m=void 0===g?null:g,I=n.getState({highlightedIndex:l,isOpen:d,inputValue:f,selectedItem:m});return null!=I.selectedItem&&void 0===n.props.initialInputValue&&(I.inputValue=n.props.itemToString(I.selectedItem)),n.state=I,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}(n,e);var u=n.prototype;return u.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},u.getState=function(e){return void 0===e&&(e=this.state),k(e,this.props)},u.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},u.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},u.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},u.moveHighlightedIndex=function(e,t){var n=this.getItemCount(),i=this.getState().highlightedIndex;if(n>0){var o=E(i,e,{length:n},this.isItemDisabled,!0);this.setHighlightedIndex(o,t)}},u.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,i=e.selectedItem,o=e.isOpen,r=this.props.itemToString,u=this.id,s=this.getRootProps,l=this.getToggleButtonProps,a=this.getLabelProps,c=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,h=this.closeMenu,g=this.toggleMenu,m=this.selectItem,I=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,b=this.clearSelection,x=this.clearItems;return{getRootProps:s,getToggleButtonProps:l,getLabelProps:a,getMenuProps:c,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:h,toggleMenu:g,selectItem:m,selectItemAtIndex:I,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:b,clearItems:x,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:r,id:u,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:i}},u.componentDidMount=function(){var e=this;if(this.props.environment){var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!P(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},i=function(){e.isTouchMove=!1},o=function(){e.isTouchMove=!0},r=function(t){var n=P(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},u=this.props.environment;u.addEventListener("mousedown",t),u.addEventListener("mouseup",n),u.addEventListener("touchstart",i),u.addEventListener("touchmove",o),u.addEventListener("touchend",r),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),u.removeEventListener("mousedown",t),u.removeEventListener("mouseup",n),u.removeEventListener("touchstart",i),u.removeEventListener("touchmove",o),u.removeEventListener("touchend",r)}}else this.cleanup=function(){e.internalClearTimeouts()}},u.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,i=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==i},u.componentDidUpdate=function(e,t){O(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},u.componentWillUnmount=function(){this.cleanup()},u.render=function(){var e=S(this.props.children,g);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var n=S(e(this.getStateAndHelpers()));return n?this.getRootProps.called||this.props.suppressRefError?n:function(e){return"string"==typeof e.type||"string"==typeof e.nodeName}(n)?t.cloneElement(n,this.getRootProps(function(e){return e.props||e.attributes}(n))):void 0:null},n}(t.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:w,itemToString:function(e){return null==e?"":String(e)},onStateChange:g,onInputValueChange:g,onUserAction:g,onChange:g,onSelect:g,onOuterClick:g,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?void 0:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:m},e.stateChangeTypes=V,e}(),j={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function U(e,t,n){var i=e.props,r=e.type,u={};Object.keys(t).forEach(function(i){!function(e,t,n,i){var r=t.props,u=t.type,s="on"+X(e)+"Change";r[s]&&void 0!==i[e]&&i[e]!==n[e]&&r[s](o({type:u},i))}(i,e,t,n),n[i]!==t[i]&&(u[i]=n[i])}),i.onStateChange&&Object.keys(u).length&&i.onStateChange(o({type:r},u))}var $=v(function(e,t){R(e,t)},200),W="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,q="useId"in t?function(e){var n=e.id,i=e.labelId,o=e.menuId,r=e.getItemId,u=e.toggleButtonId,s=e.inputId,l="downshift-"+t.useId();return n||(n=l),t.useRef({labelId:i||n+"-label",menuId:o||n+"-menu",getItemId:r||function(e){return n+"-item-"+e},toggleButtonId:u||n+"-toggle-button",inputId:s||n+"-input"}).current}:function(e){var n=e.id,i=void 0===n?"downshift-"+x():n,o=e.labelId,r=e.menuId,u=e.getItemId,s=e.toggleButtonId,l=e.inputId;return t.useRef({labelId:o||i+"-label",menuId:r||i+"-menu",getItemId:u||function(e){return i+"-item-"+e},toggleButtonId:s||i+"-toggle-button",inputId:l||i+"-input"}).current};function z(e,t,n,i){var o,r;if(void 0===e){if(void 0===t)throw new Error(i);o=n[t],r=t}else r=void 0===t?n.indexOf(e):t,o=e;return[o,r]}function X(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function Y(e){var n=t.useRef(e);return n.current=e,n}function G(e,n,i,r){var u=t.useRef(),s=t.useRef(),l=t.useCallback(function(t,n){s.current=n,t=k(t,n.props);var i=e(t,n);return n.props.stateReducer(t,o({},n,{changes:i}))},[e]),a=t.useReducer(l,n,i),c=a[0],d=a[1],p=Y(n),f=t.useCallback(function(e){return d(o({props:p.current},e))},[p]),h=s.current;return t.useEffect(function(){var e=k(u.current,null==h?void 0:h.props);h&&u.current&&!r(e,c)&&U(h,e,c),u.current=c},[c,h,r]),[c,f]}function J(e,t,n,i){var o=G(e,t,n,i),r=o[0],u=o[1];return[k(r,t),u]}var Q={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:m,environment:"undefined"==typeof window?void 0:window};function Z(e,t,n){void 0===n&&(n=j);var i=e["default"+X(t)];return void 0!==i?i:n[t]}function ee(e,t,n){void 0===n&&(n=j);var i=e[t];if(void 0!==i)return i;var o=e["initial"+X(t)];return void 0!==o?o:Z(e,t,n)}function te(e){var t=ee(e,"selectedItem"),n=ee(e,"isOpen"),i=function(e){var t=ee(e,"highlightedIndex");if(t>-1&&e.isItemDisabled(e.items[t],t))return-1;return t}(e),o=ee(e,"inputValue");return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(n){return e.itemToKey(n)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:o}}function ne(e,t,n){var i=e.items,o=e.initialHighlightedIndex,r=e.defaultHighlightedIndex,u=e.isItemDisabled,s=e.itemToKey,l=t.selectedItem,a=t.highlightedIndex;return 0===i.length?-1:void 0===o||a!==o||u(i[o],o)?void 0===r||u(i[r],r)?l?i.findIndex(function(e){return s(l)===s(e)}):n<0&&!u(i[i.length-1],i.length-1)?i.length-1:n>0&&!u(i[0],0)?0:-1:r:o}function ie(e,n,i){var o=t.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return t.useEffect(function(){if(!e)return g;var t=i.map(function(e){return e.current});function r(){o.current.isTouchEnd=!1,o.current.isMouseDown=!0}function u(i){o.current.isMouseDown=!1,P(i.target,t,e)||n()}function s(){o.current.isTouchEnd=!1,o.current.isTouchMove=!1}function l(){o.current.isTouchMove=!0}function a(i){o.current.isTouchEnd=!0,o.current.isTouchMove||P(i.target,t,e,!1)||n()}return e.addEventListener("mousedown",r),e.addEventListener("mouseup",u),e.addEventListener("touchstart",s),e.addEventListener("touchmove",l),e.addEventListener("touchend",a),function(){e.removeEventListener("mousedown",r),e.removeEventListener("mouseup",u),e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",a)}},[i,e,n]),o.current}var oe=function(){return g};function re(e,n,i,o){void 0===o&&(o={});var r=o.document,u=ae();t.useEffect(function(){if(e&&!u&&r){var t=e(n);$(t,r)}},i),t.useEffect(function(){return function(){var e,t;$.cancel(),(t=null==(e=r)?void 0:e.getElementById("a11y-status-message"))&&t.remove()}},[r])}function ue(e){var n=e.highlightedIndex,i=e.isOpen,o=e.itemRefs,r=e.getItemNodeFromIndex,u=e.menuElement,s=e.scrollIntoView,l=t.useRef(!0);return W(function(){n<0||!i||!Object.keys(o.current).length||(!1===l.current?l.current=!0:s(r(n),u))},[n]),l}function se(e,t,n){var i;return void 0===n&&(n=!0),o({isOpen:!1,highlightedIndex:-1},(null==(i=e.items)?void 0:i.length)&&t>=0&&o({selectedItem:e.items[t],isOpen:Z(e,"isOpen"),highlightedIndex:Z(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function le(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function ae(){var e=t.useRef(!0);return t.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function ce(e){var t=Z(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var de={environment:n.shape({addEventListener:n.func.isRequired,removeEventListener:n.func.isRequired,document:n.shape({createElement:n.func.isRequired,getElementById:n.func.isRequired,activeElement:n.any.isRequired,body:n.any.isRequired}).isRequired,Node:n.func.isRequired}),itemToString:n.func,itemToKey:n.func,stateReducer:n.func},pe=o({},de,{getA11yStatusMessage:n.func,highlightedIndex:n.number,defaultHighlightedIndex:n.number,initialHighlightedIndex:n.number,isOpen:n.bool,defaultIsOpen:n.bool,initialIsOpen:n.bool,selectedItem:n.any,initialSelectedItem:n.any,defaultSelectedItem:n.any,id:n.string,labelId:n.string,menuId:n.string,getItemId:n.func,toggleButtonId:n.string,onSelectedItemChange:n.func,onHighlightedIndexChange:n.func,onStateChange:n.func,onIsOpenChange:n.func,scrollIntoView:n.func});function fe(e,t,n){var i,r=t.type,u=t.props;switch(r){case n.ItemMouseMove:i={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:i={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ne(u,e,0)};break;case n.FunctionOpenMenu:i={isOpen:!0,highlightedIndex:ne(u,e,0)};break;case n.FunctionCloseMenu:i={isOpen:!1};break;case n.FunctionSetHighlightedIndex:i={highlightedIndex:u.isItemDisabled(u.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:i={inputValue:t.inputValue};break;case n.FunctionReset:i={highlightedIndex:ce(u),isOpen:Z(u,"isOpen"),selectedItem:Z(u,"selectedItem"),inputValue:Z(u,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return o({},e,i)}var he=function(){return he=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},he.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,he(he({},pe),{items:n.array.isRequired,isItemDisabled:n.func});var ge=he(he({},Q),{isItemDisabled:function(){return!1}}),me=Object.freeze({__proto__:null,FunctionCloseMenu:17,FunctionOpenMenu:16,FunctionReset:21,FunctionSelectItem:19,FunctionSetHighlightedIndex:18,FunctionSetInputValue:20,FunctionToggleMenu:15,ItemClick:14,ItemMouseMove:13,MenuMouseLeave:12,ToggleButtonBlur:11,ToggleButtonClick:0,ToggleButtonKeyDownArrowDown:1,ToggleButtonKeyDownArrowUp:2,ToggleButtonKeyDownCharacter:3,ToggleButtonKeyDownEnd:6,ToggleButtonKeyDownEnter:7,ToggleButtonKeyDownEscape:4,ToggleButtonKeyDownHome:5,ToggleButtonKeyDownPageDown:10,ToggleButtonKeyDownPageUp:9,ToggleButtonKeyDownSpaceButton:8});function Ie(e,t){var n,i,r=t.type,u=t.props,s=t.altKey;switch(r){case 14:i={isOpen:Z(u,"isOpen"),highlightedIndex:ce(u),selectedItem:u.items[t.index]};break;case 3:var l=t.key,a=""+e.inputValue+l;i={inputValue:a,highlightedIndex:function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,o=e.itemToString,r=e.isItemDisabled,u=t.toLowerCase(),s=0;s<i.length;s++){var l=(s+n+(t.length<2?1:0))%i.length,a=i[l];if(void 0!==a&&o(a).toLowerCase().startsWith(u)&&!r(a,l))return l}return n}({keysSoFar:a,highlightedIndex:!e.isOpen&&e.selectedItem?u.items.findIndex(function(t){return u.itemToKey(t)===u.itemToKey(e.selectedItem)}):e.highlightedIndex,items:u.items,itemToString:u.itemToString,isItemDisabled:u.isItemDisabled}),isOpen:!0};break;case 1:i={highlightedIndex:e.isOpen?E(e.highlightedIndex,1,u.items,u.isItemDisabled):s&&null==e.selectedItem?-1:ne(u,e,1),isOpen:!0};break;case 2:if(e.isOpen&&s)i=se(u,e.highlightedIndex,!1);else i={highlightedIndex:e.isOpen?E(e.highlightedIndex,-1,u.items,u.isItemDisabled):ne(u,e,-1),isOpen:!0};break;case 7:case 8:i=se(u,e.highlightedIndex,!1);break;case 5:i={highlightedIndex:K(0,!1,u.items,u.isItemDisabled),isOpen:!0};break;case 6:i={highlightedIndex:K(u.items.length-1,!0,u.items,u.isItemDisabled),isOpen:!0};break;case 9:i={highlightedIndex:E(e.highlightedIndex,-10,u.items,u.isItemDisabled)};break;case 10:i={highlightedIndex:E(e.highlightedIndex,10,u.items,u.isItemDisabled)};break;case 4:i={isOpen:!1,highlightedIndex:-1};break;case 11:i=o({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=u.items)?void 0:n.length)&&{selectedItem:u.items[e.highlightedIndex]});break;case 19:i={selectedItem:t.selectedItem};break;default:return fe(e,t,me)}return o({},e,i)}var ve=["onClick"],ye=["onMouseLeave","refKey","ref"],be=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],xe=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];function we(e){void 0===e&&(e={});var n=o({},ge,e),r=n.scrollIntoView,u=n.environment,s=n.getA11yStatusMessage,l=J(Ie,n,te,le),a=l[0],c=l[1],d=a.isOpen,p=a.highlightedIndex,f=a.selectedItem,h=a.inputValue,g=t.useRef(null),m=t.useRef(null),I=t.useRef({}),x=t.useRef(null),w=q(n),S=Y({state:a,props:n}),C=t.useCallback(function(e){return I.current[w.getItemId(e)]},[w]);re(s,a,[d,p,f,h],u);var D=ue({menuElement:m.current,highlightedIndex:p,isOpen:d,itemRefs:I,scrollIntoView:r,getItemNodeFromIndex:C});t.useEffect(function(){return x.current=v(function(e){e({type:20,inputValue:""})},500),function(){x.current.cancel()}},[]),t.useEffect(function(){h&&x.current(c)},[c,h]),t.useEffect(function(){ee(n,"isOpen")&&g.current&&g.current.focus()},[]);var k=ie(u,t.useCallback(function(){S.current.state.isOpen&&c({type:11})},[c,S]),t.useMemo(function(){return[m,g]},[m.current,g.current])),O=oe();t.useEffect(function(){d||(I.current={})},[d]);var E=t.useMemo(function(){return{ArrowDown:function(e){e.preventDefault(),c({type:1,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),c({type:2,altKey:e.altKey})},Home:function(e){e.preventDefault(),c({type:5})},End:function(e){e.preventDefault(),c({type:6})},Escape:function(){S.current.state.isOpen&&c({type:4})},Enter:function(e){e.preventDefault(),c({type:S.current.state.isOpen?7:0})},PageUp:function(e){S.current.state.isOpen&&(e.preventDefault(),c({type:9}))},PageDown:function(e){S.current.state.isOpen&&(e.preventDefault(),c({type:10}))}," ":function(e){e.preventDefault();var t=S.current.state;t.isOpen?t.inputValue?c({type:3,key:" "}):c({type:8}):c({type:0})}}},[c,S]),K=t.useCallback(function(){c({type:15})},[c]),P=t.useCallback(function(){c({type:17})},[c]),T=t.useCallback(function(){c({type:16})},[c]),H=t.useCallback(function(e){c({type:18,highlightedIndex:e})},[c]),R=t.useCallback(function(e){c({type:19,selectedItem:e})},[c]),V=t.useCallback(function(){c({type:21})},[c]),B=t.useCallback(function(e){c({type:20,inputValue:e})},[c]),A=t.useCallback(function(e){var t=void 0===e?{}:e,n=t.onClick,r=i(t,ve);return o({id:w.labelId,htmlFor:w.toggleButtonId,onClick:y(n,function(){var e;null==(e=g.current)||e.focus()})},r)},[w]),L=t.useCallback(function(e,t){var n,r=void 0===e?{}:e,u=r.onMouseLeave,s=r.refKey,l=void 0===s?"ref":s,a=r.ref,d=i(r,ye);return(void 0===t?{}:t).suppressRefError,o(((n={})[l]=b(a,function(e){m.current=e}),n.id=w.menuId,n.role="listbox",n["aria-labelledby"]=d&&d["aria-label"]?void 0:""+w.labelId,n.onMouseLeave=y(u,function(){c({type:12})}),n),d)},[c,O,w]),F=t.useCallback(function(e,t){var n,r=void 0===e?{}:e,u=r.onBlur,s=r.onClick;r.onPress;var l=r.onKeyDown,a=r.refKey,d=void 0===a?"ref":a,p=r.ref,f=i(r,be);(void 0===t?{}:t).suppressRefError;var h=S.current.state,m=o(((n={})[d]=b(p,function(e){g.current=e}),n["aria-activedescendant"]=h.isOpen&&h.highlightedIndex>-1?w.getItemId(h.highlightedIndex):"",n["aria-controls"]=w.menuId,n["aria-expanded"]=S.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=f&&f["aria-label"]?void 0:""+w.labelId,n.id=w.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=y(u,function(){h.isOpen&&!k.isMouseDown&&c({type:11})}),n),f);return f.disabled||(m.onClick=y(s,function(){c({type:0})}),m.onKeyDown=y(l,function(e){var t=M(e);t&&E[t]?E[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&c({type:3,key:t})})),m},[c,w,S,k,O,E]),_=t.useCallback(function(e){var t,n=void 0===e?{}:e,r=n.item,u=n.index,s=n.onMouseMove,l=n.onClick,a=n.onMouseDown;n.onPress;var d=n.refKey,p=void 0===d?"ref":d,f=n.disabled,h=n.ref,g=i(n,xe);void 0!==f&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var m=S.current,v=m.state,x=m.props,C=z(r,u,x.items,"Pass either item or index to getItemProps!"),O=C[0],M=C[1],E=x.isItemDisabled(O,M),K=o(((t={})[p]=b(h,function(e){e&&(I.current[w.getItemId(M)]=e)}),t["aria-disabled"]=E,t["aria-selected"]=O===v.selectedItem,t.id=w.getItemId(M),t.role="option",t),g);return E||(K.onClick=y(l,function(){c({type:14,index:M})})),K.onMouseMove=y(s,function(){k.isTouchEnd||M===v.highlightedIndex||(D.current=!1,c({type:13,index:M,disabled:E}))}),K.onMouseDown=y(a,function(e){return e.preventDefault()}),K},[S,w,k,D,c]);return{getToggleButtonProps:F,getLabelProps:A,getMenuProps:L,getItemProps:_,toggleMenu:K,openMenu:T,closeMenu:P,setHighlightedIndex:H,selectItem:R,reset:V,setInputValue:B,highlightedIndex:p,isOpen:d,selectedItem:f,inputValue:h}}we.stateChangeTypes=me;var Se=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:22,FunctionCloseMenu:17,FunctionOpenMenu:16,FunctionReset:21,FunctionSelectItem:19,FunctionSetHighlightedIndex:18,FunctionSetInputValue:20,FunctionToggleMenu:15,InputBlur:9,InputChange:8,InputClick:10,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEnd:4,InputKeyDownEnter:7,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownPageDown:6,InputKeyDownPageUp:5,ItemClick:13,ItemMouseMove:12,MenuMouseLeave:11,ToggleButtonClick:14});function Ce(e){var t=te(e),n=t.selectedItem,i=t.inputValue;return""===i&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(i=e.itemToString(n)),o({},t,{inputValue:i})}o({},pe,{items:n.array.isRequired,isItemDisabled:n.func,inputValue:n.string,defaultInputValue:n.string,initialInputValue:n.string,inputId:n.string,onInputValueChange:n.func});var De=o({},Q,{isItemDisabled:function(){return!1}});function ke(e,t){var n,i,r=t.type,u=t.props,s=t.altKey;switch(r){case 13:i={isOpen:Z(u,"isOpen"),highlightedIndex:ce(u),selectedItem:u.items[t.index],inputValue:u.itemToString(u.items[t.index])};break;case 0:i=e.isOpen?{highlightedIndex:E(e.highlightedIndex,1,u.items,u.isItemDisabled,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:ne(u,e,1),isOpen:u.items.length>=0};break;case 1:i=e.isOpen?s?se(u,e.highlightedIndex):{highlightedIndex:E(e.highlightedIndex,-1,u.items,u.isItemDisabled,!0)}:{highlightedIndex:ne(u,e,-1),isOpen:u.items.length>=0};break;case 7:i=se(u,e.highlightedIndex);break;case 2:i=o({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case 5:i={highlightedIndex:E(e.highlightedIndex,-10,u.items,u.isItemDisabled,!0)};break;case 6:i={highlightedIndex:E(e.highlightedIndex,10,u.items,u.isItemDisabled,!0)};break;case 3:i={highlightedIndex:K(0,!1,u.items,u.isItemDisabled)};break;case 4:i={highlightedIndex:K(u.items.length-1,!0,u.items,u.isItemDisabled)};break;case 9:i=o({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(n=u.items)?void 0:n.length)&&t.selectItem&&{selectedItem:u.items[e.highlightedIndex],inputValue:u.itemToString(u.items[e.highlightedIndex])});break;case 8:i={isOpen:!0,highlightedIndex:ce(u),inputValue:t.inputValue};break;case 10:i={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ne(u,e,0)};break;case 19:i={selectedItem:t.selectedItem,inputValue:u.itemToString(t.selectedItem)};break;case 22:i={inputValue:t.inputValue};break;default:return fe(e,t,Se)}return o({},e,i)}var Oe=["onMouseLeave","refKey","ref"],Me=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Ee=["onClick","onPress","refKey","ref"],Ke=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function Pe(e){void 0===e&&(e={});var n=o({},De,e),r=n.items,u=n.scrollIntoView,s=n.environment,l=n.getA11yStatusMessage,a=function(e,n,i,o){var r=t.useRef(),u=G(e,n,i,o),s=u[0],l=u[1],a=ae();return t.useEffect(function(){O(n,"selectedItem")&&(a||n.itemToKey(n.selectedItem)!==n.itemToKey(r.current)&&l({type:22,inputValue:n.itemToString(n.selectedItem)}),r.current=s.selectedItem===r.current?n.selectedItem:s.selectedItem)},[s.selectedItem,n.selectedItem]),[k(s,n),l]}(ke,n,Ce,le),c=a[0],d=a[1],p=c.isOpen,f=c.highlightedIndex,h=c.selectedItem,g=c.inputValue,m=t.useRef(null),I=t.useRef({}),v=t.useRef(null),x=t.useRef(null),w=ae(),S=q(n),C=t.useRef(),D=Y({state:c,props:n}),E=t.useCallback(function(e){return I.current[S.getItemId(e)]},[S]);re(l,c,[p,f,h,g],s);var K=ue({menuElement:m.current,highlightedIndex:f,isOpen:p,itemRefs:I,scrollIntoView:u,getItemNodeFromIndex:E});t.useEffect(function(){ee(n,"isOpen")&&v.current&&v.current.focus()},[]),t.useEffect(function(){w||(C.current=r.length)});var P=ie(s,t.useCallback(function(){D.current.state.isOpen&&d({type:9,selectItem:!1})},[d,D]),t.useMemo(function(){return[m,x,v]},[m.current,x.current,v.current])),T=oe();t.useEffect(function(){p||(I.current={})},[p]),t.useEffect(function(){var e;p&&null!=s&&s.document&&null!=v&&null!=(e=v.current)&&e.focus&&s.document.activeElement!==v.current&&v.current.focus()},[p,s]);var H=t.useMemo(function(){return{ArrowDown:function(e){e.preventDefault(),d({type:0,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),d({type:1,altKey:e.altKey})},Home:function(e){D.current.state.isOpen&&(e.preventDefault(),d({type:3}))},End:function(e){D.current.state.isOpen&&(e.preventDefault(),d({type:4}))},Escape:function(e){var t=D.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),d({type:2}))},Enter:function(e){D.current.state.isOpen&&229!==e.which&&(e.preventDefault(),d({type:7}))},PageUp:function(e){D.current.state.isOpen&&(e.preventDefault(),d({type:5}))},PageDown:function(e){D.current.state.isOpen&&(e.preventDefault(),d({type:6}))}}},[d,D]),R=t.useCallback(function(e){return o({id:S.labelId,htmlFor:S.inputId},e)},[S]),V=t.useCallback(function(e,t){var n,r=void 0===e?{}:e,u=r.onMouseLeave,s=r.refKey,l=void 0===s?"ref":s,a=r.ref,c=i(r,Oe);return(void 0===t?{}:t).suppressRefError,o(((n={})[l]=b(a,function(e){m.current=e}),n.id=S.menuId,n.role="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+S.labelId,n.onMouseLeave=y(u,function(){d({type:11})}),n),c)},[d,T,S]),B=t.useCallback(function(e){var t,n,r=void 0===e?{}:e,u=r.item,s=r.index,l=r.refKey,a=void 0===l?"ref":l,c=r.ref,p=r.onMouseMove,f=r.onMouseDown,h=r.onClick;r.onPress;var g=r.disabled,m=i(r,Me);void 0!==g&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var v=D.current,x=v.props,w=v.state,C=z(u,s,x.items,"Pass either item or index to getItemProps!"),k=C[0],O=C[1],M=x.isItemDisabled(k,O),E=h;return o(((t={})[a]=b(c,function(e){e&&(I.current[S.getItemId(O)]=e)}),t["aria-disabled"]=M,t["aria-selected"]=O===w.highlightedIndex,t.id=S.getItemId(O),t.role="option",t),!M&&((n={}).onClick=y(E,function(){d({type:13,index:O})}),n),{onMouseMove:y(p,function(){P.isTouchEnd||O===w.highlightedIndex||(K.current=!1,d({type:12,index:O,disabled:M}))}),onMouseDown:y(f,function(e){return e.preventDefault()})},m)},[d,S,D,P,K]),A=t.useCallback(function(e){var t,n=void 0===e?{}:e,r=n.onClick;n.onPress;var u=n.refKey,s=void 0===u?"ref":u,l=n.ref,a=i(n,Ee),c=D.current.state;return o(((t={})[s]=b(l,function(e){x.current=e}),t["aria-controls"]=S.menuId,t["aria-expanded"]=c.isOpen,t.id=S.toggleButtonId,t.tabIndex=-1,t),!a.disabled&&o({},{onClick:y(r,function(){d({type:14})})}),a)},[d,D,S]),L=t.useCallback(function(e,t){var n,r=void 0===e?{}:e,u=r.onKeyDown,l=r.onChange,a=r.onInput,c=r.onBlur;r.onChangeText;var p=r.onClick,f=r.refKey,h=void 0===f?"ref":f,g=r.ref,m=i(r,Ke);(void 0===t?{}:t).suppressRefError;var I,x=D.current.state,w={};m.disabled||((I={}).onInput=y(l,a,function(e){d({type:8,inputValue:e.target.value})}),I.onKeyDown=y(u,function(e){var t=M(e);t&&H[t]&&H[t](e)}),I.onBlur=y(c,function(e){if(null!=s&&s.document&&x.isOpen&&!P.isMouseDown){var t=null===e.relatedTarget&&s.document.activeElement!==s.document.body;d({type:9,selectItem:!t})}}),I.onClick=y(p,function(){d({type:10})}),w=I);return o(((n={})[h]=b(g,function(e){v.current=e}),n["aria-activedescendant"]=x.isOpen&&x.highlightedIndex>-1?S.getItemId(x.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=S.menuId,n["aria-expanded"]=x.isOpen,n["aria-labelledby"]=m&&m["aria-label"]?void 0:S.labelId,n.autoComplete="off",n.id=S.inputId,n.role="combobox",n.value=x.inputValue,n),w,m)},[d,S,s,H,D,P,T]),F=t.useCallback(function(){d({type:15})},[d]),_=t.useCallback(function(){d({type:17})},[d]),N=t.useCallback(function(){d({type:16})},[d]),j=t.useCallback(function(e){d({type:18,highlightedIndex:e})},[d]),U=t.useCallback(function(e){d({type:19,selectedItem:e})},[d]);return{getItemProps:B,getLabelProps:R,getMenuProps:V,getInputProps:L,getToggleButtonProps:A,toggleMenu:F,openMenu:N,closeMenu:_,setHighlightedIndex:j,setInputValue:t.useCallback(function(e){d({type:20,inputValue:e})},[d]),selectItem:U,reset:t.useCallback(function(){d({type:21})},[d]),highlightedIndex:f,isOpen:p,selectedItem:h,inputValue:g}}Pe.stateChangeTypes=Se;var Te={activeIndex:-1,selectedItems:[]};function He(e,t){return ee(e,t,Te)}function Re(e,t){return Z(e,t,Te)}function Ve(e){return{activeIndex:He(e,"activeIndex"),selectedItems:He(e,"selectedItems")}}function Be(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}function Ae(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}n.array,n.array,n.array,n.func,n.number,n.number,n.number,n.func,n.func,n.string,n.string;var Le={itemToKey:Q.itemToKey,stateReducer:Q.stateReducer,environment:Q.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Fe=Object.freeze({__proto__:null,DropdownClick:7,DropdownKeyDownBackspace:6,DropdownKeyDownNavigationPrevious:5,FunctionAddSelectedItem:8,FunctionRemoveSelectedItem:9,FunctionReset:12,FunctionSetActiveIndex:11,FunctionSetSelectedItems:10,SelectedItemClick:0,SelectedItemKeyDownBackspace:2,SelectedItemKeyDownDelete:1,SelectedItemKeyDownNavigationNext:3,SelectedItemKeyDownNavigationPrevious:4});function _e(e,t){var n,i=t.type,r=t.index,u=t.props,s=t.selectedItem,l=e.activeIndex,a=e.selectedItems;switch(i){case 0:n={activeIndex:r};break;case 4:n={activeIndex:l-1<0?0:l-1};break;case 3:n={activeIndex:l+1>=a.length?-1:l+1};break;case 2:case 1:if(l<0)break;var c=l;1===a.length?c=-1:l===a.length-1&&(c=a.length-2),n=o({selectedItems:[].concat(a.slice(0,l),a.slice(l+1))},{activeIndex:c});break;case 5:n={activeIndex:a.length-1};break;case 6:n={selectedItems:a.slice(0,a.length-1)};break;case 8:n={selectedItems:[].concat(a,[s])};break;case 7:n={activeIndex:-1};break;case 9:var d=l,p=a.findIndex(function(e){return u.itemToKey(e)===u.itemToKey(s)});if(p<0)break;1===a.length?d=-1:p===a.length-1&&(d=a.length-2),n={selectedItems:[].concat(a.slice(0,p),a.slice(p+1)),activeIndex:d};break;case 10:n={selectedItems:t.selectedItems};break;case 11:n={activeIndex:t.activeIndex};break;case 12:n={activeIndex:Re(u,"activeIndex"),selectedItems:Re(u,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return o({},e,n)}var Ne=["refKey","ref","onClick","onKeyDown","selectedItem","index"],je=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function Ue(e){void 0===e&&(e={});var n=o({},Le,e),r=n.getA11yStatusMessage,u=n.environment,s=n.keyNavigationNext,l=n.keyNavigationPrevious,a=J(_e,n,Ve,Ae),c=a[0],d=a[1],p=c.activeIndex,f=c.selectedItems,h=ae(),g=t.useRef(null),m=t.useRef();m.current=[];var I=Y({state:c,props:n});re(r,c,[p,f],u),t.useEffect(function(){h||(-1===p&&g.current?g.current.focus():m.current[p]&&m.current[p].focus())},[p]);var v=oe(),x=t.useMemo(function(){var e;return(e={})[l]=function(){d({type:4})},e[s]=function(){d({type:3})},e.Delete=function(){d({type:1})},e.Backspace=function(){d({type:2})},e},[d,s,l]),w=t.useMemo(function(){var e;return(e={})[l]=function(e){Be(e)&&d({type:5})},e.Backspace=function(e){Be(e)&&d({type:6})},e},[d,l]);return{getSelectedItemProps:t.useCallback(function(e){var t,n=void 0===e?{}:e,r=n.refKey,u=void 0===r?"ref":r,s=n.ref,l=n.onClick,a=n.onKeyDown,c=n.selectedItem,p=n.index,f=i(n,Ne),h=I.current.state,g=z(c,p,h.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],v=g>-1&&g===h.activeIndex;return o(((t={})[u]=b(s,function(e){e&&m.current.push(e)}),t.tabIndex=v?0:-1,t.onClick=y(l,function(){d({type:0,index:g})}),t.onKeyDown=y(a,function(e){var t=M(e);t&&x[t]&&x[t](e)}),t),f)},[d,I,x]),getDropdownProps:t.useCallback(function(e,t){var n,r=void 0===e?{}:e,u=r.refKey,s=void 0===u?"ref":u,l=r.ref,a=r.onKeyDown,c=r.onClick,p=r.preventKeyAction,f=void 0!==p&&p,h=i(r,je);return(void 0===t?{}:t).suppressRefError,o(((n={})[s]=b(l,function(e){e&&(g.current=e)}),n),!f&&{onKeyDown:y(a,function(e){var t=M(e);t&&w[t]&&w[t](e)}),onClick:y(c,function(){d({type:7})})},h)},[d,w,v]),addSelectedItem:t.useCallback(function(e){d({type:8,selectedItem:e})},[d]),removeSelectedItem:t.useCallback(function(e){d({type:9,selectedItem:e})},[d]),setSelectedItems:t.useCallback(function(e){d({type:10,selectedItems:e})},[d]),setActiveIndex:t.useCallback(function(e){d({type:11,activeIndex:e})},[d]),reset:t.useCallback(function(){d({type:12})},[d]),selectedItems:f,activeIndex:p}}Ue.stateChangeTypes=Fe,e.default=N,e.resetIdCounter=function(){"useId"in t?console.warn("It is not necessary to call resetIdCounter when using React 18+"):f=0},e.useCombobox=Pe,e.useMultipleSelection=Ue,e.useSelect=we,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=downshift.umd.min.js.map
