'use strict';

var a = require('react');
var s = require('@radix-ui/react-toast');
var classVarianceAuthority = require('class-variance-authority');
var lucideReact = require('lucide-react');
var clsx = require('clsx');
var tailwindMerge = require('tailwind-merge');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n.default = e;
	return Object.freeze(n);
}

var a__namespace = /*#__PURE__*/_interopNamespace(a);
var s__namespace = /*#__PURE__*/_interopNamespace(s);

function n(...t){return tailwindMerge.twMerge(clsx.clsx(t))}var S=s__namespace.Provider,f=a__namespace.forwardRef(({className:t,...e},o)=>a__namespace.createElement(s__namespace.Viewport,{ref:o,className:n("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));f.displayName=s__namespace.Viewport.displayName;var D=classVarianceAuthority.cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),u=a__namespace.forwardRef(({className:t,variant:e,...o},i)=>a__namespace.createElement(s__namespace.Root,{ref:i,className:n(D({variant:e}),t),...o}));u.displayName=s__namespace.Root.displayName;var _=a__namespace.forwardRef(({className:t,...e},o)=>a__namespace.createElement(s__namespace.Action,{ref:o,className:n("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_.displayName=s__namespace.Action.displayName;var l=a__namespace.forwardRef(({className:t,...e},o)=>a__namespace.createElement(s__namespace.Close,{ref:o,className:n("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e},a__namespace.createElement(lucideReact.X,{className:"h-4 w-4"})));l.displayName=s__namespace.Close.displayName;var v=a__namespace.forwardRef(({className:t,...e},o)=>a__namespace.createElement(s__namespace.Title,{ref:o,className:n("text-sm font-semibold",t),...e}));v.displayName=s__namespace.Title.displayName;var y=a__namespace.forwardRef(({className:t,...e},o)=>a__namespace.createElement(s__namespace.Description,{ref:o,className:n("text-sm opacity-90",t),...e}));y.displayName=s__namespace.Description.displayName;var N=1,b=1e6;var R=0;function I(){return R=(R+1)%Number.MAX_SAFE_INTEGER,R.toString()}var A=new Map,P=t=>{if(A.has(t))return;let e=setTimeout(()=>{A.delete(t),p({type:"REMOVE_TOAST",toastId:t});},b);A.set(t,e);},V=(t,e)=>{switch(e.type){case"ADD_TOAST":return {...t,toasts:[e.toast,...t.toasts].slice(0,N)};case"UPDATE_TOAST":return {...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case"DISMISS_TOAST":{let{toastId:o}=e;return o?P(o):t.toasts.forEach(i=>{P(i.id);}),{...t,toasts:t.toasts.map(i=>i.id===o||o===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)}}},T=[],d={toasts:[]};function p(t){d=V(d,t),T.forEach(e=>{e(d);});}function C({...t}){let e=I(),o=c=>p({type:"UPDATE_TOAST",toast:{...c,id:e}}),i=()=>p({type:"DISMISS_TOAST",toastId:e});return p({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:c=>{c||i();}}}),{id:e,dismiss:i,update:o}}function g(){let[t,e]=a__namespace.useState(d);return a__namespace.useEffect(()=>(T.push(e),()=>{let o=T.indexOf(e);o>-1&&T.splice(o,1);}),[t]),{...t,toast:C,dismiss:o=>p({type:"DISMISS_TOAST",toastId:o})}}function Y(){let{toasts:t}=g();return a__namespace.createElement(S,null,t.map(function({id:e,title:o,description:i,action:c,...x}){return a__namespace.createElement(u,{key:e,...x},a__namespace.createElement("div",{className:"grid gap-1"},o&&a__namespace.createElement(v,null,o),i&&a__namespace.createElement(y,null,i)),c,a__namespace.createElement(l,null))}),a__namespace.createElement(f,null))}

exports.Toaster = Y;
